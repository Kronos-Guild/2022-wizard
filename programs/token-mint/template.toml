# Token Mint Program Template Configuration
# 
# This file defines how the wizard assembles the program from base and extension files.
# Rust contributors: Edit the .rs files with @wizard marker comments.
#
# INJECTION MARKERS IN RUST FILES:
# Extensions use marker comments in their .rs files to declare injections:
#   // @wizard:inject.<target>.<type>
#   ... code ...
#   // @wizard:end
#
# For args (single line):
#   // @wizard:inject.create_mint.args fee_basis_points: u16, max_fee: u64
#
# Targets: "lib" or instruction id (e.g., "create_mint")
# Types: "modules", "instructions", "imports", "args", "body", "accounts"

[program]
id = "token-mint"
name = "Token Mint"
description = "Create Token-2022 mints with optional extensions like metadata, transfer fees, and more."
version = "0.1.0"

# Base files are always included - these are the "templates" that get modified
[base]
lib = "base/lib.rs"
instructions = [
    { id = "create_mint", file = "base/instructions/create_mint.rs" },
]
other = [
    "base/instructions/mod.rs",
    "base/state/mod.rs",
    "base/error.rs",
]

# =============================================================================
# EXTENSIONS
# =============================================================================
# Each extension declares its files. Injection rules are defined in the .rs files
# using @wizard marker comments (see extensions/*/mod.rs for examples).

[extensions.metadata]
name = "Metadata"
description = "Store token name, symbol, and URI on-chain using Token-2022 metadata extension"
default = true
locked = true  # Cannot be disabled - always included
files = ["extensions/metadata/mod.rs"]

# -----------------------------------------------------------------------------

[extensions.transfer-fee]
name = "Transfer Fee"
description = "Charge a percentage fee on every token transfer"
default = false
conflicts_with = ["non-transferable"]
files = [
    "extensions/transfer-fee/mod.rs",
    "extensions/transfer-fee/update_fee.rs",
]

# UI configuration for this extension
[extensions.transfer-fee.config]
fee_basis_points = { type = "number", name = "Fee (Basis Points)", description = "100 = 1%", default = 100, min = 0, max = 10000 }
max_fee = { type = "number", name = "Max Fee", description = "Maximum fee in token units", default = 1000000, min = 0 }

# -----------------------------------------------------------------------------

[extensions.close-mint]
name = "Close Mint"
description = "Allow the mint authority to close the mint and reclaim rent"
default = false
files = ["extensions/close-mint/mod.rs"]

# -----------------------------------------------------------------------------

[extensions.non-transferable]
name = "Non-Transferable"
description = "Make tokens soulbound - they cannot be transferred after minting"
default = false
conflicts_with = ["transfer-fee"]
files = ["extensions/non-transferable/mod.rs"]
